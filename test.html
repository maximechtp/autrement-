<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Cours 20 min</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 50px;
      text-align: center;
    }
    button {
      padding: 20px 40px;
      font-size: 18px;
      cursor: pointer;
      margin: 10px;
    }
    .info {
      margin-top: 30px;
      padding: 20px;
      background: #f0f0f0;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>Test du bouton "Cours 20 min"</h1>
  
  <button id="testBtn" data-action="chooseOption" data-param="cours">
    üìö Cours 20 min (TEST)
  </button>
  
  <div class="info">
    <h3>Instructions :</h3>
    <ol style="text-align: left; max-width: 600px; margin: 0 auto;">
      <li>Ouvrez la console du navigateur (F12)</li>
      <li>Cliquez sur le bouton ci-dessus</li>
      <li>V√©rifiez les messages dans la console</li>
    </ol>
  </div>
  
  <div id="output" style="margin-top: 30px; padding: 20px; background: #e8f5e9; border-radius: 8px;">
    <h3>√âtat actuel :</h3>
    <p id="status">En attente du clic...</p>
  </div>

  <script>
    console.log("‚úÖ Test script loaded");
    
    // Simuler sessionData
    let sessionData = {
      isLoggedIn: false,
      isSubscribed: false,
      email: 'test@example.com',
      option: null
    };
    
    // Test de l'√©v√©nement click
    document.body.addEventListener("click", (event) => {
      const target = event.target;
      const action = target.dataset.action;
      const param = target.dataset.param;

      console.log("üñ±Ô∏è CLICK detected");
      console.log("Target:", target);
      console.log("Action:", action);
      console.log("Param:", param);
      
      document.getElementById('status').innerHTML = `
        <strong>Clic d√©tect√© !</strong><br>
        Action: ${action || 'non d√©fini'}<br>
        Param: ${param || 'non d√©fini'}
      `;

      if (!action) {
        console.warn("‚ö†Ô∏è No action found on clicked element");
        return;
      }

      if (action === "chooseOption" && param === "cours") {
        console.log("‚úÖ Cours option detected!");
        sessionData.option = param;
        document.getElementById('status').innerHTML = `
          <strong style="color: green;">‚úÖ Succ√®s !</strong><br>
          Option: ${sessionData.option}<br>
          La modal devrait s'ouvrir maintenant
        `;
        alert("Test r√©ussi ! Dans l'app r√©elle, la modal de s√©lection s'ouvrirait ici.");
      }
    });
    
    console.log("‚úÖ Event listener attached");
  </script>
</body>
</html>
